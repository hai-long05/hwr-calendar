var Be={ACTION:"action",DESCRIPTION:"description",DURATION:"duration",REPEAT:"repeat",SUMMARY:"summary",TRIGGER:"trigger",ATTACH:"attachment",ATTENDEE:"attendee"},Ue={action:"ACTION",description:"DESCRIPTION",duration:"DURATION",repeat:"REPEAT",summary:"SUMMARY",trigger:"TRIGGER",attachment:"ATTACH",attendee:"ATTENDEE"};import Xe from"lodash/compact";var ke={METHOD:"method",PRODID:"prodId",VERSION:"version"},Ze={method:"METHOD",prodId:"PRODID",version:"VERSION"};var le="BEGIN",fe="END",Fe="VCALENDAR",ge="VTIMEZONE",de="STANDARD",Re="DAYLIGHT",Oe="VEVENT",be="VALARM";var F=e=>new RegExp(`${le}:${e}([\\s\\S]*?)${fe}:${e}`,"g"),Ae=F(ge),Ve=F(de),De=F(Re),xe=F(Oe),Ie=F(be),Y=e=>new RegExp(`${le}:${e}|${fe}:${e}`,"g"),We=Y(Fe),He=Y(ge),$e=Y(de),we=Y(Re),Ge=Y(Oe),Je=Y(be);var q=/\r\n|\r|\n/,Q=`\r
`,qe=":",W=",",Qe='"',v=";";var H="=";var X=e=>`${e}${Q}`,p=(e,t,o)=>o?t==null?"":X(`${e};${o}:${t}`):X(`${e}:${t}`),R=e=>X(`BEGIN:${e}`),O=e=>X(`END:${e}`);var f=e=>{if(!(e.length<1))return`${e.map(t=>`${t.key}${H}${t.value}`).join(v)}`};var et=e=>{if(e.type==="uri"){let t=f(Xe([e.formatType&&{key:"FMTTYPE",value:e.formatType}]));return p("ATTACH",e.url,t)}if(e.type==="binary"){let t=f(Xe([e.value&&{key:"VALUE",value:e.value},e.encoding&&{key:"ENCODING",value:e.encoding}]));return p("ATTACH",e.binary,t)}throw Error(`Attachment has no type! ${JSON.stringify(e)}`)};import It from"lodash/compact";var S=(e,t)=>t?`"MAILTO:${e}"`:`MAILTO:${e}`;var ee=(e,t)=>{let o=f(It([e.dir&&{key:"DIR",value:`"${e.dir}"`},e.delegatedFrom&&{key:"DELEGATED-FROM",value:S(e.delegatedFrom,!0)},e.member&&{key:"MEMBER",value:S(e.member,!0)},e.role&&{key:"ROLE",value:e.role},e.name&&{key:"CN",value:e.name},e.partstat&&{key:"PARTSTAT",value:e.partstat},e.role&&{key:"ROLE",value:e.role},e.sentBy&&{key:"SENT-BY",value:S(e.sentBy,!0)}]));return p(t,S(e.email),o)};var h=e=>{let t="";return e.before&&(t+="-"),t+="P",e.weeks&&(t+=`${e.weeks}W`),e.days&&(t+=`${e.days}D`),(e.hours||e.minutes||e.seconds)&&(t+="T",e.hours&&(t+=`${e.hours}H`),e.minutes&&(t+=`${e.minutes}M`),e.seconds&&(t+=`${e.seconds}S`)),t};import Nt from"lodash/compact";import St from"lodash/compact";import tt from"lodash/isDate";var rt=e=>{if(!tt(e))throw Error(`Incorrect date object: ${e}`);let t=e.toISOString(),o=t.slice(0,4),r=t.slice(5,7),s=t.slice(8,10);return`${o}${r}${s}`},_=e=>{if(!tt(e))throw Error(`Incorrect date object: ${e}`);let t=e.toISOString(),o=t.slice(0,4),r=t.slice(5,7),s=t.slice(8,10),n=t.slice(11,13),i=t.slice(14,16),a=t.slice(17,19);return`${o}${r}${s}T${n}${i}${a}Z`};var P=(e,t)=>{let o=t.type==="DATE"?rt(t.date):_(t.date),r=f(St([t.type&&{key:"VALUE",value:t.type},t.timezone&&{key:"TZID",value:t.timezone}]));return p(e,o,r)};var ot=e=>{var o;let t=f(Nt([((o=e.options)==null?void 0:o.related)&&{key:"RELATED",value:e.options.related}]));if(e.type==="absolute")return P("TRIGGER",e.value);if(e.type==="relative")return p("TRIGGER",h(e.value),t)};var b=e=>Object.keys(e);var nt=e=>{let t=b(e),o="";return o+=R("VALARM"),t.forEach(r=>{if(r==="attachments"||r==="attendees")return;let s=Ue[r];if(!s)return;let n=e[r];if(n&&n!=null){if(r==="trigger"){o+=ot(n);return}if(r==="duration"){o+=p(s,h(n));return}if(r==="repeat"){o+=p(s,n==null?void 0:n.toString());return}o+=p(s,String(n))}}),e.attachments&&e.attachments.length>0&&e.attachments.forEach(r=>{o+=et(r)}),e.attendees&&e.attendees.length>0&&e.attendees.forEach(r=>{o+=ee(r,"ATTENDEE")}),o+=O("VALARM"),o};var st={"LAST-MODIFIED":"lastModified",ALARM:"alarm",CATEGORIES:"categories",CREATED:"created",DESCRIPTION:"description",DTSTAMP:"stamp",DTSTART:"start",LOCATION:"location",RRULE:"recurrenceRule",SUMMARY:"summary",UID:"uid",TRANSP:"timeTransparent",URL:"url",DTEND:"end",DURATION:"duration",GEO:"geo",CLASS:"class",ORGANIZER:"organizer",PRIORITY:"priority",SEQ:"sequence",STATUS:"status",ATTACH:"attach","RECURRENCE-ID":"recurrenceId",ATTENDEE:"attendee",COMMENT:"comment"},it={alarm:"ALARM",categories:"CATEGORIES",created:"CREATED",description:"DESCRIPTION",lastModified:"LAST-MODIFIED",location:"LOCATION",recurrenceRule:"RRULE",stamp:"DTSTAMP",start:"DTSTART",summary:"SUMMARY",uid:"UID",timeTransparent:"TRANSP",url:"URL",end:"DTEND",duration:"DURATION",geo:"GEO",class:"CLASS",organizer:"ORGANIZER",priority:"PRIORITY",sequence:"SEQ",status:"STATUS",attach:"ATTACH",recurrenceId:"RECURRENCE-ID",attendee:"ATTENDEE",comment:"COMMENT"};var zt=["stamp","start","end","created","lastModified"],te=e=>zt.includes(e),Kt=["categories"],re=e=>Kt.includes(e);import vt from"lodash/compact";var at=e=>{let t=f(vt([e.dir&&{key:"DIR",value:`"${e.dir}"`},e.name&&{key:"CN",value:e.name},e.sentBy&&{key:"SENT-BY",value:S(e.sentBy)}]));return p("ORGANIZER",S(e.email),t)};import pt from"lodash/compact";var ct=e=>e.occurence?`${e.occurence}${e.day}`:e.day;var oe=e=>{let t="",o=f(pt([e.byDay&&{key:"BYDAY",value:e.byDay.map(r=>ct(r)).join(",")},e.byHour&&{key:"BYHOUR",value:e.byHour.join(",")},e.byMinute&&{key:"BYMINUTE",value:e.byMinute.join(",")},e.byMonth&&{key:"BYMONTH",value:e.byMonth.join(",")},e.byMonthday&&{key:"BYMONTHDAY",value:e.byMonthday.join(",")},e.bySecond&&{key:"BYSECOND",value:e.bySecond.join(",")},e.bySetPos&&{key:"BYSETPOS",value:e.bySetPos.join(",")},e.byWeekNo&&{key:"BYWEEKNO",value:e.byWeekNo.join(",")},e.byYearday&&{key:"BYYEARDAY",value:e.byYearday.join(",")},e.count&&{key:"COUNT",value:e.count.toString()},e.frequency&&{key:"FREQ",value:e.frequency},e.interval&&{key:"INTERVAL",value:e.interval.toString()},e.until&&{key:"UNTIL",value:`${e.until.timezone&&`${f(pt([{key:"TZID",value:e.until.timezone}]))}=`}${e.until.date}`},e.workweekStart&&{key:"WKST",value:e.workweekStart}]));return t+=p("RRULE",o),t};var mt=e=>{let t=b(e),o="";return o+=R("VEVENT"),t.forEach(r=>{if(r==="alarms"||r==="attendees")return;let s=it[r];if(!s)return;let n=e[r];if(n!=null){if(te(r)){o+=P(s,n);return}if(re(r)){o+=p(s,n.join(","));return}if(r==="recurrenceRule"){o+=oe(n);return}if(r==="duration"){o+=p(s,h(n));return}if(r==="organizer"){o+=at(n);return}if(r==="sequence"){o+=n.toString();return}o+=p(s,String(n))}}),e.alarms&&e.alarms.length>0&&e.alarms.forEach(r=>{o+=nt(r)}),e.attendees&&e.attendees.length>0&&e.attendees.forEach(r=>{o+=ee(r,"ATTENDEE")}),o+=O("VEVENT"),o};var Tt={"LAST-MODIFIED":"lastModified",TZID:"id",TZURL:"url"},yt={id:"TZID",lastModified:"LAST-MODIFIED",url:"TZURL"};var ut={COMMENT:"comment",DTSTART:"start",RDATE:"recurrenceDate",RRULE:"recurrenceRule",TZNAME:"name",TZOFFSETFROM:"offsetFrom",TZOFFSETTO:"offsetTo"},Et={comment:"COMMENT",name:"TZNAME",offsetFrom:"TZOFFSETFROM",offsetTo:"TZOFFSETTO",recurrenceDate:"RDATE",recurrenceRule:"RRULE",start:"DTSTART"};var lt=e=>{let t=b(e),o="";return o+=R(e.type),t.forEach(r=>{if(r==="type")return;let s=Et[r];if(!s)return;let n=e[r];if(r==="start"){o+=p(s,_(n));return}if(r==="recurrenceRule"){o+=oe(n);return}if(r==="recurrenceDate"){o+=P(s,n);return}o+=p(s,String(n))}),o+=O(e.type),o};var ft=e=>{let t=b(e),o="";return o+=R("VTIMEZONE"),t.forEach(r=>{if(r==="props")return;let s=yt[r];if(!s)return;let n=e[r];if(r==="lastModified"){o+=p(s,_(n));return}o+=p(s,String(n))}),e.props&&e.props.length>0&&e.props.forEach(r=>{o+=lt(r)}),o+=O("VTIMEZONE"),o};var gt=e=>{let t=e.split(q),o=[];return t.forEach(r=>{if(r.length<75){o.push(r);return}Mt(r,75).forEach(s=>{o.push(s)})}),o.join(Q)},Mt=(e,t)=>{let o=e,r=[];for(;Math.ceil(o.length/t)>=1;)r.push(r.length===0?o.substring(0,t):` ${o.substring(0,t)}`),o=o.substring(t);return r};var un=e=>{let t=b(e),o="";return o+=R("VCALENDAR"),t.forEach(r=>{if(r==="events"||r==="timezones")return;let s=Ze[r];if(!s)return;let n=e[r];o+=p(s,n)}),e.timezones&&e.timezones.length>0&&e.timezones.forEach(r=>{o+=ft(r)}),e.events&&e.events.length>0&&e.events.forEach(r=>{o+=mt(r)}),o+=O("VCALENDAR"),gt(o)};import Z from"lodash/set";import{z as j}from"zod";import{z as l}from"zod";var jt=["BASE64"],Mn=["BINARY"],ne=l.discriminatedUnion("type",[l.object({type:l.literal("uri"),url:l.string().url(),formatType:l.string().optional(),encoding:l.never().optional(),value:l.never().optional(),binary:l.never().optional()}),l.object({type:l.literal("binary"),url:l.never().optional(),formatType:l.never().optional(),encoding:l.enum(jt),value:l.enum(["BINARY"]),binary:l.string()})]);import{z as D}from"zod";var Ct=["TENTATIVE","ACCEPTED","CANCELLED","DELEGATED"],B=D.object({email:D.string().email(),name:D.string().optional(),member:D.string().email().optional(),delegatedFrom:D.string().email().optional(),role:D.string().optional(),partstat:D.enum(Ct).optional(),dir:D.string().url().optional(),sentBy:D.string().email().optional()});import{z as M}from"zod";var N=M.object({before:M.boolean().optional(),weeks:M.number().optional(),days:M.number().optional(),hours:M.number().optional(),minutes:M.number().optional(),seconds:M.number().optional()});import{z as x}from"zod";import{setMilliseconds as Lt}from"date-fns";import{z as se}from"zod";var Yt=["DATE","DATE-TIME"],E=se.object({date:se.date().transform(e=>Lt(e,0)),type:se.enum(Yt).optional(),timezone:se.string().optional()});var ht=["START","END"],_t=x.discriminatedUnion("type",[x.object({type:x.literal("absolute"),value:E}),x.object({type:x.literal("relative"),value:N})]),Pt=x.object({related:x.enum(ht).optional()}),Bt=x.object({options:Pt.optional()}),ie=x.intersection(Bt,_t);var ae=j.object({action:j.string().default("DISPLAY"),description:j.string().optional(),trigger:ie,attendees:j.array(B).optional(),duration:N.optional(),repeat:j.number().optional(),summary:j.string().optional(),attachments:j.array(ne).optional()});import{z}from"zod";import{z as T}from"zod";import{z as $}from"zod";var ce=$.object({name:$.string().optional(),email:$.string().email(),dir:$.string().optional(),sentBy:$.string().email().optional()});import{z as y}from"zod";import{z as Se}from"zod";var Ne=["MO","TU","WE","TH","FR","SA","SU"],pe=Se.object({day:Se.enum(Ne),occurence:Se.number().optional()});var Ut=["SECONDLY","MINUTELY","HOURLY","DAILY","WEEKLY","MONTHLY","YEARLY"],U=y.object({frequency:y.enum(Ut),until:E.optional(),count:y.number().optional(),interval:y.number().optional(),bySecond:y.array(y.number().min(0).max(60)).optional(),byMinute:y.array(y.number().min(0).max(59)).optional(),byHour:y.array(y.number().min(0).max(23)).optional(),byDay:y.array(pe).optional(),byMonthday:y.array(y.number().min(-31).max(31)).optional(),byYearday:y.array(y.number().min(1).max(366)).optional(),byWeekNo:y.array(y.number().min(1).max(53)).optional(),byMonth:y.array(y.number().min(1).max(12)).optional(),bySetPos:y.array(y.number().min(-366).max(366)).optional(),workweekStart:y.enum(Ne).optional()});import{z as dt}from"zod";var me=dt.object({range:dt.literal("THISANDFUTURE").optional(),value:E});var Rt=["TENTATIVE","CONFIRMED","CANCELLED"];var kt=["TRANSPARENT","OPAQUE"],Zt=["PRIVATE","PUBLIC","CONFIDENTIAL"],Ft=T.union([T.object({duration:N,end:T.never().optional()}),T.object({duration:T.never().optional(),end:E})]),Wt=T.object({summary:T.string(),uid:T.string(),created:E.optional(),lastModified:E.optional(),stamp:E,start:E,location:T.string().optional(),description:T.string().optional(),categories:T.array(T.string()).optional(),recurrenceRule:U.optional(),alarms:T.array(ae).optional(),timeTransparent:T.enum(kt).optional(),url:T.string().url().optional(),geo:T.string().optional(),class:T.enum(Zt).optional(),organizer:ce.optional(),priority:T.string().optional(),sequence:T.number().optional(),status:T.enum(Rt).optional(),attach:T.string().optional(),recurrenceId:me.optional(),attendees:T.array(B).optional(),comment:T.string().optional()}),Te=T.intersection(Wt,Ft);import{z as g}from"zod";var Ht=["STANDARD","DAYLIGHT"],ze=g.object({type:g.enum(Ht),start:g.date(),offsetTo:g.string(),offsetFrom:g.string(),recurrenceRule:U.optional(),comment:g.string().optional(),recurrenceDate:E.optional(),name:g.string().optional()}),ye=g.object({id:g.string(),lastModified:g.date().optional(),url:g.string().url().optional(),props:g.array(ze)});var $t=["PUBLISH"],Ot=z.object({version:z.literal("2.0"),prodId:z.string(),method:z.union([z.enum($t),z.string()]).optional(),timezones:z.array(ye).optional(),events:z.array(Te).optional()});var Ke=(e,t)=>(t==null?void 0:t.VALUE)==="BINARY"?{type:"binary",encoding:(t==null?void 0:t.ENCODING)||"BASE64",binary:e,value:t==null?void 0:t.VALUE}:{type:"uri",url:e,formatType:t==null?void 0:t.FMTTYPE},Ws=(e,t)=>ne.parse(Ke(e,t));var K=e=>e.replace(/mailto:/gi,"");var w=(e,t)=>({email:K(e),delegatedFrom:t!=null&&t["DELEGATED-FROM"]?K(t["DELEGATED-FROM"]):void 0,dir:t==null?void 0:t.DIR,member:t!=null&&t.MEMBER?K(t.MEMBER):void 0,name:t==null?void 0:t.CN,partstat:t==null?void 0:t.PARTSTAT,role:t==null?void 0:t.ROLE,sentBy:t!=null&&t["SENT-BY"]?K(t["SENT-BY"]):void 0}),Qs=(e,t)=>B.parse(w(e,t));import k from"lodash/set";var C=e=>{let t=e,o={};t[0]==="-"&&(k(o,"before",!0),t=t.slice(1)),t=t.slice(1);let r=t.split("T"),s=r[0];if(s.includes("D")){let[i,a]=s.split("D");k(o,"days",Number(i)),s=a}if(s.includes("W")){let[i,a]=s.split("W");k(o,"weeks",Number(i)),s=a}let n=r[1];if(n){if(n.includes("H")){let[i,a]=n.split("H");k(o,"hours",Number(i)),n=a}if(n.includes("M")){let[i,a]=n.split("M");k(o,"minutes",Number(i)),n=a}if(n.includes("S")){let[i,a]=n.split("S");k(o,"seconds",Number(i)),n=a}}return o},oi=e=>N.parse(C(e));import{z as bt}from"zod";var ve=e=>{let t=parseInt(e.slice(0,4),10),o=parseInt(e.slice(4,6),10)-1,r=parseInt(e.slice(6,8),10);return new Date(t,o,r)},ii=e=>bt.date().parse(ve(e)),L=e=>{let t=parseInt(e.slice(0,4),10),o=parseInt(e.slice(4,6),10)-1,r=parseInt(e.slice(6,8),10),s=parseInt(e.slice(9,11),10),n=parseInt(e.slice(11,13),10),i=parseInt(e.slice(13,15),10);return new Date(Date.UTC(t,o,r,s,n,i))},ai=e=>bt.date().parse(L(e));var d=(e,t)=>({date:(t==null?void 0:t.VALUE)==="DATE"?ve(e):L(e),type:t==null?void 0:t.VALUE,timezone:t==null?void 0:t.TZID}),Ti=(e,t)=>E.parse(d(e,t));var Me=(e,t)=>(t==null?void 0:t.VALUE)==="DATE-TIME"||(t==null?void 0:t.VALUE)==="DATE"?{type:"absolute",value:d(e,t),options:{related:t==null?void 0:t.RELATED}}:{type:"relative",value:C(e),options:{related:t==null?void 0:t.RELATED}},fi=(e,t)=>ie.parse(Me(e,t));import wt from"lodash/set";var Gt=e=>e.startsWith('"')&&e.endsWith('"')?e.slice(1,-1):e,je=e=>e.map(t=>{let[o,...r]=t.split(H),s=r.join(H);return{property:o,value:Gt(s)}},{}),Jt=e=>e.reduce((t,o)=>(wt(t,o.property,o.value),t),{}),At=e=>Jt(je(e));var qt=e=>{let t=!1,o;for(let n=0;n<e.length&&o===void 0;n+=1)e.charAt(n)===Qe&&(t=!t),e.charAt(n)===qe&&!t&&(o=n);if(o===void 0)throw Error(`Line not valid: ${e}`);let r=e.substring(0,o),s=e.substring(o+1);return{property:r,value:s}},A=e=>{let{property:t,value:o}=qt(e);if(t.includes(v)){let[r,...s]=t.split(v),n=At(s);return{property:r,options:n,value:o}}return{property:t,value:o}};var V=e=>{let t=[],o=e.split(q).filter(r=>r!=="");for(let r=0;r<o.length;){let s=o[r];for(r+=1;o[r]&&/^[ \t]/.test(o[r]);)s+=o[r].trimStart(),r+=1;t.push(s)}return t};var Ce=e=>{let t=e.replace(Je,""),o=V(t),r={},s=[],n=[];return o.forEach(i=>{let{property:a,options:u,value:c}=A(i),m=Be[a];if(m){if(m==="trigger"){Z(r,m,Me(c,u));return}if(m==="duration"){Z(r,m,C(c));return}if(m==="repeat"){Z(r,m,Number(c));return}if(m==="attachment"){s.push(Ke(c,u));return}if(m==="attendee"){n.push(w(c,u));return}Z(r,m,c)}}),s.length>0&&Z(r,"attachments",s),n.length>0&&Z(r,"attendees",n),r},_i=e=>ae.parse(Ce(e));import Pe from"lodash/set";import I from"lodash/set";var Le=(e,t)=>({name:t==null?void 0:t.CN,dir:t==null?void 0:t.DIR,sentBy:t!=null&&t["SENT-BY"]?K(t["SENT-BY"]):void 0,email:K(e)}),ki=(e,t)=>ce.parse(Le(e,t));import G from"lodash/set";var Vt={BYDAY:"byDay",BYHOUR:"byHour",BYMINUTE:"byMinute",BYMONTH:"byMonth",BYMONTHDAY:"byMonthday",BYSECOND:"bySecond",BYSETPOS:"bySetPos",BYWEEKNO:"byWeekNo",BYYEARDAY:"byYearday",COUNT:"count",FREQ:"frequency",INTERVAL:"interval",UNTIL:"until",WKST:"workweekStart"};var Ye=e=>{if(e.length===2)return{day:e};let o=e.slice(0,-2);return{day:e.replace(o,""),occurence:Number(o)}},Hi=e=>pe.parse(Ye(e));var Qt=["until"],Xt=e=>Qt.includes(e),er=["bySecond","byMinute","byHour","byMonthday","byYearday","byWeekNo","byMonth","bySetPos"],tr=e=>er.includes(e),rr=["byDay"],or=e=>rr.includes(e),nr=["count","interval"],sr=e=>nr.includes(e),J=e=>{let t={};return je(e.split(v)).forEach(r=>{let{property:s,value:n}=r,i=Vt[s];if(i){if(Xt(i)){G(t,i,d(n));return}if(tr(i)){G(t,i,n.split(W).map(a=>Number(a)));return}if(or(i)){G(t,i,n.split(W).map(a=>Ye(a)));return}if(sr(i)){G(t,i,Number(n));return}G(t,i,n)}}),t},ra=e=>U.parse(J(e));var he=e=>{let t=e.replace(Ge,""),o=V(t.replace(Ie,"")),r={},s=[];o.forEach(i=>{let{property:a,options:u,value:c}=A(i),m=st[a];if(m){if(te(m)){I(r,m,d(c,u));return}if(re(m)){I(r,m,c.split(W));return}if(m==="recurrenceRule"){I(r,m,J(c));return}if(m==="duration"){I(r,m,C(c));return}if(m==="organizer"){I(r,m,Le(c,u));return}if(m==="sequence"){I(r,m,Number(c));return}if(m==="attendee"){s.push(w(c,u));return}I(r,m,c)}});let n=[...e.matchAll(Ie)].map(i=>i[0]);if(n.length>0){let i=n.map(a=>Ce(a));I(r,"alarms",i)}return s.length>0&&I(r,"attendees",s),r},Ra=e=>Te.parse(he(e));import Dt from"lodash/set";import ue from"lodash/set";var Ee=(e,t)=>{let o=e.replace($e,"").replace(we,""),r=V(o),s={type:t||"STANDARD"};return r.forEach(n=>{let{property:i,options:a,value:u}=A(n),c=ut[i];if(c){if(c==="start"){ue(s,c,L(u));return}if(c==="recurrenceRule"){ue(s,c,J(u));return}if(c==="recurrenceDate"){ue(s,c,d(u,a));return}ue(s,c,u)}}),s},Ma=(e,t)=>ze.parse(Ee(e,t));var _e=e=>{let t=e.replace(He,""),o=V(t.replace(Ve,"").replace(De,"")),r={props:[]};o.forEach(i=>{let{property:a,value:u}=A(i),c=Tt[a];if(c){if(c==="lastModified"){Dt(r,c,L(u));return}Dt(r,c,u)}});let s=[...t.matchAll(Ve)].map(i=>i[0]);s.length>0&&s.forEach(i=>{r.props.push(Ee(i,"STANDARD"))});let n=[...t.matchAll(De)].map(i=>i[0]);return n.length>0&&n.forEach(i=>{r.props.push(Ee(i,"DAYLIGHT"))}),r},Fa=e=>ye.parse(_e(e));var ir=e=>{let t=e.replace(We,""),o=V(t.replace(xe,"").replace(Ae,"")),r={};o.forEach(i=>{let{property:a,value:u}=A(i),c=ke[a];c&&Pe(r,c,u)});let s=[...t.matchAll(Ae)].map(i=>i[0]);if(s.length>0){let i=s.map(a=>_e(a));Pe(r,"timezones",i)}let n=[...t.matchAll(xe)].map(i=>i[0]);if(n.length>0){let i=n.map(a=>he(a));Pe(r,"events",i)}return r},tc=e=>Ot.parse(ir(e));var ar=(e,t)=>({value:d(e,t),range:t==null?void 0:t.RANGE}),ic=(e,t)=>me.parse(ar(e,t));import{addDays as cr,addHours as pr,addMinutes as mr,addSeconds as Tr,addWeeks as yr,differenceInDays as ur,differenceInHours as Er,differenceInMinutes as lr,differenceInSeconds as fr,differenceInWeeks as gr,subDays as dr,subHours as Rr,subMinutes as Or,subSeconds as br,subWeeks as Ar}from"date-fns";var xt=(e,t)=>t.before?Ar(dr(Rr(Or(br(e,t.seconds||0),t.minutes||0),t.hours||0),t.days||0),t.weeks||0):yr(cr(pr(mr(Tr(e,t.seconds||0),t.minutes||0),t.hours||0),t.days||0),t.weeks||0),Nc=(e,t)=>{let o=Math.abs(gr(t,e)),r=Math.abs(ur(t,e)),s=r-o*7,n=Math.abs(Er(t,e)),i=n-r*24,a=Math.abs(lr(t,e)),u=a-n*60,m=Math.abs(fr(t,e))-a*60;return{before:e>t,weeks:o,days:s,hours:i,minutes:u,seconds:m}};var vc=e=>e.end?e.end.date:xt(e.start.date,e.duration);export{Ct as attendeePartStatusTypes,Zt as classTypes,Yt as dateObjectTypes,jt as encodingTypes,nt as generateIcsAlarm,et as generateIcsAttachment,ee as generateIcsAttendee,un as generateIcsCalendar,rt as generateIcsDate,_ as generateIcsDateTime,h as generateIcsDuration,mt as generateIcsEvent,S as generateIcsMail,at as generateIcsOrganizer,oe as generateIcsRecurrenceRule,P as generateIcsTimeStamp,ft as generateIcsTimezone,lt as generateIcsTimezoneProp,ot as generateIcsTrigger,ct as generateIcsWeekdayNumber,Nc as getDurationFromInterval,vc as getEventEnd,xt as getEventEndFromDuration,Ce as icsAlarmToObject,Ke as icsAttachmentToObject,w as icsAttendeeToObject,ir as icsCalendarToObject,L as icsDateTimeToDateTime,ve as icsDateToDate,C as icsDurationToObject,he as icsEventToObject,Le as icsOrganizerToObject,ar as icsRecurrenceIdToObject,J as icsRecurrenceRuleToObject,d as icsTimeStampToObject,Ee as icsTimezonePropToObject,_e as icsTimezoneToObject,Me as icsTriggerToObject,Ye as icsWeekdayNumberToObject,_i as parseIcsAlarm,Ws as parseIcsAttachment,Qs as parseIcsAttendee,tc as parseIcsCalendar,ii as parseIcsDate,ai as parseIcsDateTime,oi as parseIcsDuration,Ra as parseIcsEvent,ki as parseIcsOrganizer,ic as parseIcsRecurrenceId,ra as parseIcsRecurrenceRule,Fa as parseIcsTimezone,Ma as parseIcsTimezoneProp,fi as parseIcsTrigger,Hi as parseIcsWeekdayNumber,Ti as parseicsTimeStamp,sr as recurrenceObjectKeyIsNumber,tr as recurrenceObjectKeyIsNumberArray,Xt as recurrenceObjectKeyIsTimeStamp,or as recurrenceObjectKeyIsWeekdayNumberArray,Ut as recurrenceRuleFrequencies,Rt as statusTypes,kt as timeTransparentTypes,Ht as timezonePropTypes,ht as triggerRelations,Mn as valueTypes,Ne as weekDays,ne as zAttachment,B as zAttendee,E as zDateObject,ce as zOrganizer,me as zRecurrenceId,ae as zVAlarm,Ot as zVCalendar,$t as zVCalendarMethods,Te as zVEvent,Wt as zVEventBase,N as zVEventDuration,Ft as zVEventDurationOrEnd,U as zVEventRecurrenceRule,ie as zVEventTrigger,Bt as zVEventTriggerBase,Pt as zVEventTriggerOptions,_t as zVEventTriggerUnion,ye as zVTimezone,ze as zVTimezoneProp,pe as zWeekdayNumberObject};
